<div class="main-box flex items-center justify-center w-full h-full ">
    <div class="main flex items-center w-[80%]  h-[80%]">

        <div class=" contatos-container flex flex-col bg-[#f5f5f5] w-[30%] h-full">

            <nav class="contatos-nav w-full z-10 py-5 bg-secondary flex justify-center text-primaryWhite font-bold ">
                <div class="contatos-nav-text flex justify-center items-center w-1/3">
                    <p (click)="setChatListType(chatTypeTeams)">
                        Equipes
                    </p>
                </div>
                <div class="contatos-nav-text flex justify-center items-center w-1/3">
                    <p (click)="setChatListType(chatTypeProjects)">
                        Projetos
                    </p>
                </div>
                <div class="contatos-nav-text flex justify-center items-center w-1/3">
                    <p (click)="setChatListType(chatTypeUsers)">
                        Pessoas
                    </p>
                </div>
            </nav>

            <div class="contact-list w-full h-full bg-[#f5f5f5] max-w-full   overflow-scroll ">

                <div
                    class="search-bar z-20 flex justify-center items-center relative w-full h-[10%] bg-[#f5f5f5] border-b-2  top-0">
                    <div
                        class="flex justify-end items-center w-[80%] h-[60%] bg-[#F0F0F0] rounded-xl px-4 gap-2 border-2  border-primary">
                        <input class="w-full bg-[#F0F0F0] outline-none" type="text" [(ngModel)]="search" placeholder="Pesquise aqui...">
                        <i class="pi pi-search text-primary"></i>
                    </div>
                </div>

                <div class="w-full h-max"  *ngFor="let chat of chatList">
                    <app-contact [contact]="getContactFromUser(chat,loggedUser)" [chat]="chat" (click)="selectChat(chat)" *ngIf="checkSearch(chat)"></app-contact>
                </div>
                
            </div>

        </div>

        <div class="conversa justify-between flex-col flex bg-white w-[70%] relative h-full">

            <div class="w-full min-h-[4rem] h-16 bg-primary flex items-center gap-4 px-8 ">

                    <div class="h-[3.25rem] min-w-[3.25rem] max-w-min ">
                        <img src="{{contact.fotoPerfil}}"
                            alt="" class="rounded-full h-full w-full">
                    </div>
                <p class="font-bold text-primaryWhite  flex w-full truncate">
                    {{contact.nome}}
                </p>
                <div class="bg-primaryWhite w-16 h-[80%]">

                </div>
            </div>


            <div class="messages w-full h-full pt-4 overflow-scroll px-16 flex flex-col gap-4 ">

                <div class="w-full h-max " *ngFor="let message of selectedChat.messages; index as index ">
                    <app-message [loggedUser]="loggedUser" [chat]="selectedChat" [message]="message"></app-message>
                </div>

            </div>

            
            <div class="message-bar w-full h-[10%]">
               <app-message-bar [loggedUser]="loggedUser" [chat]="selectedChat"></app-message-bar>
            </div>

        </div>

    </div>
</div>