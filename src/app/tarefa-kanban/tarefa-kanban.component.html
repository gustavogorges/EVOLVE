<div class="container-fluid flex   w-full">
  <ng-template #recursiveList statusList>
    <!-- sou a porra toda -->

    <div *ngIf="!dropTarefa" class="dndPlaceholder" dndPlaceholderRef></div>
    <!-- sou a coluna -->
    <div
      *ngFor="let item of statusList"
      [dndDraggable]="item"
      (dndEnd)="onDragEnd($event)"
      (dndStart)="onDragStartStatus($event)"
      dndEffectAllowed="move"
      class="w-[400px] flex flex-col mx-4 items-end"
    >
      <div class="flex justify-between w-full">
        <i
          class="pi pi-arrows-h text-secondary"
          dndHandle
          id="{{ item.columnIndex }}"
        ></i>
        <p
          class="status"
          [ngStyle]="{
            'background-color': item.backgroundColor,
            color: item.textColor
          }"
        >
          {{ item.name }}
        </p>
      </div>

      <button class="bg-primaryWhite w-full text-lg text-fontGray border-b p-1">
        <i class="pi pi-plus text-secondary p-1" style="font-size: 1rem"></i>
        adicionar tarefa
      </button>

      <!-- to na coluna que tem as tasks -->
      <div
        class="flex flex-col w-full h-6"
        (dndDrop)="onDropTask($event, taskList, item)"
        dndDropzone
      >
        <!-- sou algo, nÃ£o sei o que e nem praque -->

        <div
          *ngIf="!dropStatus"
          class="dndPlaceholder w-full h-6"
          dndPlaceholderRef
        ></div>

        <!-- Renderizamo as parceira -->
        <div
          *ngFor="let task of taskList; let i = index"
          [dndDraggable]="task"
          (dndEnd)="onDragEnd($event)"
          (dndMoved)="onDraggedTask(task, taskList, 'move')"
          (dndStart)="onDragStartTask($event)"
          class="flex flex-col"
          dndEffectAllowed="move"
        >
          <div
            *ngIf="task.currentStatus?.id == item.id"
            class="bg-primaryWhite rounded-md p-5"
          >
            <app-tarefa-card-padrao
              [tarefaAtual]="task"
              dndHandle
              id="2"
            ></app-tarefa-card-padrao>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <div class="flex flex-row w-[1600px] h-[720px]  oba">
    <ng-container *ngIf="dropStatus; else pwp">
      <div class="p-5" (dndDrop)="onDrop($event, statusList)" dndDropzone>
        <ng-container *ngTemplateOutlet="recursiveList"></ng-container>
      </div>
    </ng-container>
    <ng-template #pwp class="  ">
      <div class="flex p-5">
        <ng-container *ngTemplateOutlet="recursiveList"></ng-container>
      </div>
    </ng-template>
  </div>
</div>
